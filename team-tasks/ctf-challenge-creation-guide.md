
# Руководство по созданию CTF-заданий для платформы CyberWhale

## Введение

Этот документ представляет собой подробное руководство для специалиста по созданию CTF-заданий (Capture The Flag) для платформы CyberWhale. Задания должны быть интересными, образовательными и иметь четкую структуру для эффективной интеграции в платформу через AI-ассистента.

## Структура CTF-задания

Каждое CTF-задание должно содержать следующие компоненты:

### 1. Метаданные

```typescript
{
  id: string;              // Уникальный идентификатор задания
  title: string;           // Название задания
  description: string;     // Описание задания
  category: string;        // Категория (web, crypto, forensics, reverse-engineering, network, pwn, etc.)
  difficulty: string;      // Сложность (beginner, intermediate, advanced, expert)
  points: number;          // Количество баллов за решение
  tags: string[];          // Теги для фильтрации
  downloadUrl?: string;    // URL для скачивания файлов (если необходимо)
  fileType?: string;       // Тип файлов (archive, image, binary, etc.)
}
```

### 2. Описание задания

- **Легенда**: История или сценарий, который создает контекст для задания
- **Задача**: Четко сформулированная проблема, которую нужно решить
- **Цель**: Что именно нужно найти или достичь (обычно флаг в формате `CW{...}`)

### 3. Материалы

- **Файлы**: Архивы, изображения, бинарные файлы и другие материалы
- **Инструкции по развертыванию**: Если задание требует локального запуска
- **Скриншоты**: Визуальное представление задачи при необходимости

### 4. Решение и подсказки

- **Пошаговое решение**: Для внутреннего использования и помощи участникам
- **Подсказки**: 2-3 подсказки разной степени детализации
- **Ответ**: Правильный флаг и критерии его проверки

## Категории заданий

### Веб-безопасность (Web)

**Темы для заданий:**
- SQL-инъекции
- XSS (Cross-Site Scripting)
- CSRF (Cross-Site Request Forgery)
- Уязвимости аутентификации и авторизации
- Server-Side Request Forgery (SSRF)
- Local File Inclusion (LFI)
- Remote File Inclusion (RFI)
- Command Injection

**Требования к заданиям:**
- Предоставить исходный код или Docker-контейнер для локального запуска
- Детально описать настройку окружения
- Убедиться, что все зависимости указаны

**Пример запроса к AI-ассистенту:**
```
"Добавь новое задание по веб-безопасности 'SQL-инъекция в HR-портале' среднего уровня сложности. Вот архив с файлами: [URL]. Основная цель - найти уязвимость SQL-инъекции и извлечь флаг из скрытой таблицы. Флаг: CW{HR_Leak_Protection_Fail}."
```

### Криптография (Crypto)

**Темы для заданий:**
- Классические шифры (Caesar, Vigenère, Substitution)
- Современные криптографические алгоритмы (RSA, AES, DES)
- Криптографический анализ
- Хеширование и уязвимости хеш-функций
- Стеганография

**Требования к заданиям:**
- Предоставить зашифрованные данные или алгоритмы
- Четко указать формат ожидаемого ответа
- Включать математические формулы при необходимости

**Пример запроса к AI-ассистенту:**
```
"Создай новое криптографическое задание 'Тайна зашифрованного чата' начального уровня. Задание содержит логи чата с сообщениями, зашифрованными шифром Цезаря с разными сдвигами. Участникам нужно расшифровать сообщения и найти флаг CW{Multiple_Shifts_Decoded}."
```

### Реверс-инжиниринг (Reverse Engineering)

**Темы для заданий:**
- Анализ бинарных файлов
- Декомпиляция и дизассемблирование
- Анализ обфусцированного кода
- Изучение защитных механизмов
- Модификация поведения программ

**Требования к заданиям:**
- Предоставить бинарные файлы для анализа
- Указать целевые платформы и архитектуры
- Включить рекомендации по инструментам

**Пример запроса к AI-ассистенту:**
```
"Добавь задание по реверс-инжинирингу 'Загадочный пароль' продвинутого уровня. Задание содержит исполняемый файл, который проверяет введенный пароль через сложный алгоритм. Участникам нужно проанализировать код и найти правильный пароль, который является флагом CW{H1dd3n_L0g1c_R3v3rs3d}."
```

### Форензика (Forensics)

**Темы для заданий:**
- Анализ дампов памяти
- Восстановление удаленных данных
- Анализ метаданных
- Изучение сетевого трафика
- Расследование инцидентов

**Требования к заданиям:**
- Предоставить файлы для анализа (дампы, логи, изображения)
- Четко обозначить, что именно нужно найти
- Указать рекомендуемые инструменты

**Пример запроса к AI-ассистенту:**
```
"Создай форензик-задание 'Скрытые следы' среднего уровня. В задании предоставляется дамп памяти компьютера, на котором был инцидент безопасности. Участники должны найти следы вредоносного ПО и извлечь флаг CW{M3m0ry_4rt1f4ct5_F0und}."
```

### Сетевая безопасность (Network)

**Темы для заданий:**
- Анализ сетевого трафика
- Эксплуатация протоколов
- Обнаружение аномалий
- Туннелирование и обход защиты
- Атаки на сетевую инфраструктуру

**Требования к заданиям:**
- Предоставить PCAP-файлы для анализа
- Включить схемы сетевой топологии при необходимости
- Четко описать исходную ситуацию

**Пример запроса к AI-ассистенту:**
```
"Добавь задание по сетевой безопасности 'Подозрительный трафик' начального уровня. Участникам предоставляется PCAP-файл с записью сетевого трафика, в котором скрыт флаг. Необходимо проанализировать трафик и найти аномальные пакеты, содержащие части флага CW{P4ck3t_Sn1ff1ng_101}."
```

## Процесс создания и интеграции заданий

### 1. Подготовительный этап

1. **Выбор темы и категории:**
   - Определите тему задания и его категорию
   - Установите уровень сложности и примерное количество баллов

2. **Разработка концепции:**
   - Создайте легенду/сценарий для задания
   - Определите конкретную уязвимость или технику, которую будут изучать участники
   - Разработайте уникальный флаг в формате `CW{...}`

3. **Подготовка материалов:**
   - Создайте все необходимые файлы (исходный код, архивы, изображения)
   - Проверьте работоспособность всех компонентов
   - Подготовьте инструкции по развертыванию (если необходимо)

### 2. Документирование задания

1. **Описание для участников:**
   - Напишите короткое и интригующее описание
   - Включите только необходимую информацию для начала решения
   - Укажите любые предварительные требования или рекомендуемые инструменты

2. **Решение для администраторов:**
   - Создайте подробное пошаговое решение
   - Документируйте все команды, инструменты и техники
   - Включите скриншоты ключевых этапов

3. **Система подсказок:**
   - Первая подсказка: наводящая, без конкретных деталей
   - Вторая подсказка: более конкретное направление
   - Третья подсказка: почти прямое указание на решение

### 3. Тестирование

1. **Самостоятельная проверка:**
   - Пройдите задание "с нуля", следуя только предоставленному описанию
   - Убедитесь, что все компоненты работают как ожидается
   - Проверьте, что флаг можно найти и он соответствует формату

2. **Внешнее тестирование:**
   - Если возможно, попросите коллегу пройти задание
   - Соберите обратную связь о сложности и понятности
   - Внесите корректировки при необходимости

### 4. Интеграция в платформу

1. **Подготовка данных для AI-ассистента:**
   - Соберите все метаданные в структурированном виде
   - Загрузите все необходимые файлы в доступное хранилище
   - Подготовьте полное описание задания и решения

2. **Формулировка запроса:**
   - Четко опишите, что должен добавить AI-ассистент
   - Включите все необходимые ссылки и материалы
   - Укажите, как задание должно отображаться в платформе

**Пример полного запроса к AI-ассистенту:**
```
"Добавь новое CTF-задание со следующими параметрами:

Название: HR-портал CyberWolf Corp: SQL-инъекция
Описание: Вы получили доступ к внутреннему HR-порталу компании CyberWolf Corp. Система позволяет искать сотрудников по имени, но администраторы уверены, что в ней есть критическая уязвимость, позволяющая получить доступ к конфиденциальным данным. Ваша задача — провести аудит системы и найти секретный флаг, скрытый в глубинах приложения.
Категория: web
Сложность: intermediate
Баллы: 250
Теги: web, sql-injection, databases, security-audit
URL для скачивания: https://cloud.mail.ru/public/NGcQ/FGdbzMBa9
Тип файла: archive
Инструкция по запуску: Разархивировать архив, перейти в папку и запустить сервер: php -S 0.0.0.0:8000

При создании карточки задания используй соответствующие иконки и оформление, как у других заданий веб-категории."
```

## Рекомендации по уровням сложности

### Начальный уровень (beginner)
- Очевидные уязвимости или простые техники
- Минимальные требования к предварительным знаниям
- Подробное описание и возможные подсказки в самом задании
- Баллы: 100-200

### Средний уровень (intermediate)
- Сочетание нескольких техник или менее известные уязвимости
- Требуются базовые знания в соответствующей области
- Умеренная сложность анализа или эксплуатации
- Баллы: 200-300

### Продвинутый уровень (advanced)
- Сложные уязвимости или многоэтапная эксплуатация
- Требуются специализированные знания
- Необходимость творческого подхода к решению
- Баллы: 300-400

### Экспертный уровень (expert)
- Очень сложные или малоизвестные техники
- Требуются глубокие знания и опыт
- Часто включают исследовательские компоненты
- Баллы: 400-500

## Советы по созданию качественных заданий

1. **Образовательная ценность:**
   - Задание должно обучать конкретной концепции или технике
   - После решения участник должен понимать уязвимость и способы защиты

2. **Реалистичность:**
   - По возможности имитируйте реальные сценарии уязвимостей
   - Избегайте надуманных или искусственных ограничений

3. **Баланс подсказок:**
   - Не делайте задания слишком очевидными
   - Но и не создавайте неразрешимые головоломки
   - Хорошее задание направляет мысль в правильном направлении

4. **Уникальность:**
   - Избегайте копирования распространенных заданий
   - Вносите оригинальные элементы или контекст
   - Создавайте запоминающиеся легенды и сценарии

5. **Техническое совершенство:**
   - Убедитесь, что задание технически корректно
   - Решение должно быть стабильным и воспроизводимым
   - Исключите возможность решения "нестандартными" способами

## Заключение

Создание качественных CTF-заданий требует творческого подхода, технической точности и понимания образовательных целей. Следуя этому руководству, вы сможете создавать задания, которые будут не только интересны участникам, но и эффективно интегрированы в платформу CyberWhale через AI-ассистента.
